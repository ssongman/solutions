# pgadmin 





## 1) pgadmin install with helm



```sh
$ kubectl create ns pgadmin
$ kubectl create ns postgres



$ helm repo add runix https://helm.runix.net

$ helm repo update

$ helm search repo pgadmin
NAME            CHART VERSION   APP VERSION     DESCRIPTION
runix/pgadmin4  1.24.0          8.4             pgAdmin4 is a web based administration tool for...
stable/pgadmin  1.2.3           4.18.0          DEPRECATED - moved to new repo, see source for ...

# 2026.02.19
NAME            CHART VERSION   APP VERSION     DESCRIPTION
runix/pgadmin4  1.59.0          9.11            pgAdmin4 is a web based administration tool for...

# 2026.02.28
NAME            CHART VERSION   APP VERSION     DESCRIPTION
runix/pgadmin4  1.59.0          9.11            pgAdmin4 is a web based administration tool for...




# values yaml 확인
$ helm show values runix/pgadmin4


# Helm install
$ helm -n postgres install my-admin runix/pgadmin4 \
    --set ingress.enabled=true \
    --set ingress.hosts[0].host=pgadmin.ace.kubepia.net \
    --set ingress.hosts[0].paths[0].path=/ \
    --set ingress.hosts[0].paths[0].pathType=Prefix \
    --set env.email=ace@ktds.com \
    --set env.password=pgadminpass \
    --set persistentVolume.enabled=false \
    --dry-run=true



# 확인
$ helm -n postgres list
NAME            NAMESPACE       REVISION        UPDATED                                 STATUS          CHART           APP VERSION
my-admin        pgadmin         1               2024-03-28 23:04:40.558942712 +0900 KST deployed        pgadmin4-1.24.0 8.4

NAME            NAMESPACE       REVISION        UPDATED                                 STATUS          CHART              APP VERSION
my-admin        pgadmin         1               2026-02-19 15:05:26.500634058 +0000 UTC deployed        pgadmin4-1.59.0    9.11


NAME            NAMESPACE       REVISION        UPDATED                                 STATUS          CHART                   APP VERSION
my-admin        postgres        1               2026-02-28 16:29:00.51894 +0900 KST     deployed        pgadmin4-1.59.0         9.11
postgres        postgres        1               2026-02-07 06:32:06.087840417 +0000 UTC deployed        postgresql-18.2.4       18.1.0




# 삭제시...
$ helm -n postgres delete my-admin



```



### 다른 방법으로 Install  - 이게 훨씬 쉽네.

```sh

$ cat <<'EOF' | helm -n postgres upgrade --install my-admin runix/pgadmin4 -f -
ingress:
  enabled: true
  ingressClassName: nginx

  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod

  hosts:
    - host: pgadmin.ace.kubepia.net
      paths:
        - path: /
          pathType: Prefix

  tls:
    - secretName: pgadmin-tls
      hosts:
        - pgadmin.ace.kubepia.net

env:
  email: ace@ktds.com
  password: pgadminpass

persistentVolume:
  enabled: false
EOF



# (선택) dry-run으로 먼저 확인
helm -n postgres install my-admin runix/pgadmin4 -f pgadmin-values.yaml --dry-run


```





## 확인



```

https://pgadmin.ace.kubepia.net

```







## 2) 서버추가

* 서버 : mypost-postgresql
* database: mypage
* username: diopro
* password: new1234





## Clean up

```sh


$ helm -n pgadmin ls
NAME            NAMESPACE       REVISION        UPDATED                                 STATUS  CHART           APP VERSION
my-admin        pgadmin         1               2024-03-28 23:01:40.010668538 +0900 KST failed  pgadmin4-1.24.0 8.4


# 삭제
$ helm -n pgadmin delete my-admin 


```

